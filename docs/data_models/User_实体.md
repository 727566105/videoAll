# User å®ä½“æ–‡æ¡£

## ğŸ“‹ å®ä½“æ¦‚è¿°

Userï¼ˆç”¨æˆ·å®ä½“ï¼‰å­˜å‚¨ç³»ç»Ÿç”¨æˆ·è´¦æˆ·ä¿¡æ¯ã€‚

**è¡¨å**: `users`
**ä¸»é”®**: `id` (UUID)

---

## å­—æ®µè¯´æ˜

### åŸºæœ¬ä¿¡æ¯å­—æ®µ

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¿…å¡« | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|--------|------|
| id | uuid | - | âœ… | auto | ä¸»é”® |
| username | varchar | 50 | âœ… | - | ç”¨æˆ·åï¼ˆå”¯ä¸€ï¼‰ |
| password_hash | varchar | 255 | âœ… | - | å¯†ç å“ˆå¸Œï¼ˆä¸è¿”å›ï¼‰ |
| role | varchar | 20 | âœ… | operator | ç”¨æˆ·è§’è‰²ï¼ˆadmin/operatorï¼‰ |
| is_active | boolean | - | âœ… | true | æ˜¯å¦æ¿€æ´» |

### ç³»ç»Ÿå­—æ®µ

| å­—æ®µå | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|--------|------|
| created_at | timestamp | - | CURRENT_TIMESTAMP | åˆ›å»ºæ—¶é—´ |
| updated_at | timestamp | - | CURRENT_TIMESTAMP | æ›´æ–°æ—¶é—´ |
| deleted_at | timestamp | âŒ | null | åˆ é™¤æ—¶é—´ï¼ˆè½¯åˆ é™¤ï¼‰ |

---

## æšä¸¾å€¼è¯´æ˜

### roleï¼ˆç”¨æˆ·è§’è‰²ï¼‰

| å€¼ | è¯´æ˜ | æƒé™ |
|----|------|------|
| admin | ç®¡ç†å‘˜ | æ‰€æœ‰æƒé™ |
| operator | æ“ä½œå‘˜ | æ™®é€šç”¨æˆ·æƒé™ |

---

## ç´¢å¼•è¯´æ˜

### IDX_USER_USERNAME

**ç±»å‹**: å”¯ä¸€ç´¢å¼•  
**å­—æ®µ**: `username`  
**ä½œç”¨**: ç¡®ä¿ç”¨æˆ·åå”¯ä¸€

### IDX_USER_ROLE

**ç±»å‹**: æ™®é€šç´¢å¼•  
**å­—æ®µ**: `role`  
**ä½œç”¨**: ä¼˜åŒ–æŒ‰è§’è‰²æŸ¥è¯¢

### IDX_USER_ACTIVE

**ç±»å‹**: æ™®é€šç´¢å¼•  
**å­—æ®µ**: `is_active`  
**ä½œç”¨**: ä¼˜åŒ–æ¿€æ´»çŠ¶æ€æŸ¥è¯¢

---

## å®‰å…¨ç‰¹æ€§

- âœ… å¯†ç ä½¿ç”¨ bcrypt å“ˆå¸Œå­˜å‚¨
- âœ… è½¯åˆ é™¤æ”¯æŒï¼ˆdeleted_atï¼‰
- âœ… å¯†ç ä¸åœ¨å“åº”ä¸­è¿”å›

---

## ç¤ºä¾‹æ•°æ®

```json
{
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "username": "admin",
  "role": "admin",
  "is_active": true,
  "created_at": "2025-12-28T10:00:00.000Z",
  "updated_at": "2025-12-28T10:00:00.000Z",
  "deleted_at": null
}
```

---

## ç›¸å…³æ–‡æ¡£

- [ç”¨æˆ·ç®¡ç†æ¨¡å—](../modules/08_ç”¨æˆ·ç®¡ç†.md)
- [è®¤è¯æ¨¡å—](../modules/01_è®¤è¯æ¨¡å—.md)

---

**æœ€åæ›´æ–°**: 2025-12-28
