# videoAll Docker 部署环境变量配置
# 复制此文件为 .env 并根据实际情况修改配置

# ================================
# 应用基础配置
# ================================
NODE_ENV=production
BACKEND_PORT=3000
FRONTEND_PORT=80

# ================================
# 数据库配置 (必须修改)
# ================================
# 方案1: 使用外部数据库（生产环境推荐）
# 取消下面的注释并修改为你的实际数据库地址
POSTGRES_HOST=your-postgres-host
POSTGRES_PORT=5432
POSTGRES_DATABASE=video_all
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-external-db-password

# 方案2: 使用 Docker Compose 内置数据库（开发/测试环境）
# 启动命令: docker compose --profile internal-db up -d
# POSTGRES_HOST=postgres
# POSTGRES_PORT=5432
# POSTGRES_DATABASE=video_all
# POSTGRES_USER=postgres
# POSTGRES_PASSWORD=your-secure-password-here

# ================================
# Redis 配置
# ================================
# 方案1: 使用外部 Redis（生产环境推荐）
REDIS_HOST=your-redis-host
REDIS_PORT=6379
# REDIS_PASSWORD=your-redis-password

# 方案2: 使用 Docker Compose 内置 Redis（开发/测试环境）
# 启动命令: docker compose --profile internal-db up -d
# REDIS_HOST=redis
# REDIS_PORT=6379

# ================================
# JWT 安全配置 (必须修改)
# ================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d

# ================================
# 存储配置
# ================================
STORAGE_ROOT_PATH=/app/media

# ================================
# 镜像配置
# ================================
GITHUB_REPOSITORY=727566105/videoall
IMAGE_TAG=latest

# ================================
# 可选配置
# ================================
# Slack 通知 (可选)
# SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# 日志级别
LOG_LEVEL=info

# 文件上传限制 (MB)
MAX_FILE_SIZE=100

# API 限流配置
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ================================
# 开发配置 (仅开发环境)
# ================================
# 开发模式下的前端 API 地址
# VITE_API_BASE_URL=http://localhost:3000/api/v1

# 开发模式下启用热重载
# VITE_HMR=true