# ============================================
# Docker 环境配置文件
# 复制此文件为 .env 并修改为你的实际配置
# ============================================

# 服务器配置
NODE_ENV=production
PORT=3000

# 服务端口配置
BACKEND_PORT=3000
FRONTEND_PORT=80
POSTGRES_PORT=5432
REDIS_PORT=6379

# ============================================
# 数据库配置
# ============================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DATABASE=video_all
POSTGRES_USER=postgres
POSTGRES_PASSWORD=w18950417797

# ============================================
# Redis 配置
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=

# ============================================
# JWT 认证配置
# ============================================
JWT_SECRET=w18950417797
JWT_EXPIRES_IN=7d

# ============================================
# 加密配置
# ============================================
ENCRYPTION_KEY=w18950417797
PASSWORD_SALT_ROUNDS=10

# ============================================
# 存储配置
# ============================================
STORAGE_TYPE=local
STORAGE_ROOT_PATH=/app/media

# ============================================
# 备份配置
# ============================================
BACKUP_DIR=/app/backups
BACKUP_RETENTION_DAYS=7

# ============================================
# 日志配置
# ============================================
LOG_LEVEL=info

# ============================================
# API 配置
# ============================================
API_PREFIX=/api/v1

# ============================================
# HTTPS 配置（可选）
# ============================================
HTTPS_ENABLED=false
HTTPS_PORT=443
SSL_KEY_PATH=/etc/ssl/private/key.pem
SSL_CERT_PATH=/etc/ssl/certs/cert.pem

# ============================================
# 安全配置
# ============================================
# 密码策略
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBER=true
PASSWORD_REQUIRE_SPECIAL=false

# 速率限制
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# 前端配置
# ============================================
# API 基础 URL（生产环境配置为反向代理地址）
VITE_API_BASE_URL=/api

# 凭证加密密钥
VITE_CREDENTIAL_SECRET_KEY=123456

# ============================================
# Docker 特定配置
# ============================================
# 容器资源限制
# NODE_OPTIONS=--max-old-space-size=2048

# 健康检查
HEALTHCHECK_INTERVAL=30000
HEALTHCHECK_TIMEOUT=10000
HEALTHCHECK_RETRIES=3
